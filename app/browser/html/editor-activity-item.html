<li>
  <div class="activity-icon" ng-class="iconBadge">
    <span class="fa fa-fw" ng-class="iconClasses"></span>
  </div>
  <div class="activity-content" ng-if="!collapsed">
    <span class="activity-menu fa fa-chevron-down"
          bs-dropdown data-placement="bottom-right" data-container=".editor" data-template="activity-menu"
          ng-if="showMenu">
    </span>
    <script type="text/ng-template" id="activity-menu">
      <ul class="dropdown-menu">
        <li>
          <a ng-click="editComment()">
            <span class="fa fa-fw fa-pencil"></span>
            Edit
          </a>
        </li>
        <li>
          <a ng-click="deleteComment(agEditorActivityEndpoint)">
            <span class="fa fa-fw fa-trash-o"></span>
            Delete
          </a>
        </li>
      </ul>
    </script>
    <strong>{{agEditorActivityUser}}</strong>
    <span class="text-muted">
      <span ng-bind-html="verb"></span>
      <span ng-bind-html="agEditorActivityTime"></span>
    </span>

    <div class="activity-comment"
         ng-class="agEditorActivityType == 'form' ? 'activity-comment-form' : 'enable-select'"
         ng-if="hasTransclusion || agEditorActivityType == 'form'">
      <form name="commentForm">
        <input type="hidden" name="edit" data-ng-model="commentEdit" value="commentEdit">
        <div ng-if="agEditorActivityType != 'form'" ng-transclude></div>
        <div ng-if="agEditorActivityType == 'form'">
          <p>
            <textarea name="commentDescription"
                      class="form-control"
                      ng-model="commentDescription"
                      placeholder="Write a comment...">
            </textarea>

          </p>
          <p class="text-right">
            <code>agEditorActivityFlag : {{agEditorActivityFlag}}</code>
            <button name="CommentFlag"
                    type="submit" class="btn btn-default"
                    ng-click="agEditorActivityFlag = !agEditorActivityFlag;
                      submitFlaggedComment(commentForm, agEditorActivityEndpoint, agEditorActivityFlag)"
                    ng-show="!commentEdit">
              <span class="fa fa-fw" ng-class="agEditorActivityFlag ? 'fa-check' : 'fa-flag-o'"></span>
              {{ agEditorActivityFlag ? 'Resolve' : 'Flag' }} {{ commentDescription ? 'with comment' : '' }}
            </button>
            <button type="submit" class="btn btn-primary" ng-click="submitComment(commentForm, agEditorActivityEndpoint)">
              {{ commentEdit ? 'Update' : 'Comment' }}
            </button>
          </p>
        </div>
      </form>
      <!--
      <p>
        <span class="text-muted">
          3 likes
        </span>
        &middot;
        <a href="">Like</a>
      </p>
      -->
    </div>
  </div>
  <div class="activity-content activity-content-collapsed" ng-if="collapsed">
    <a href="">
      {{editorActivityNumCollapsed}} more items have been collapsed.
      <strong>
        <span class="fa fa-plus-square"></span>
        EXPAND
      </strong>
    </a>
  </div>
</li>
