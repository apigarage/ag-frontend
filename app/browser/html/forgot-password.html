<div class="authentication-wrapper">
  <div class="authentication" ng-controller="ForgotPasswordCtrl">
    <img class="authentication-logo" src="img/api-garage-logo-large.png" />

      <div ng-show="showGetCode">
        <form class="authentication-form" >
          <p>Enter your account email to receive a reset code.</p>
          <input type="name" class="form-control authentication-email"
            ng-class="{'input-lg': true}"
            placeholder="Email Address"
            ng-model="forgotPassword.email" />
            <p class="authentication-validation" ng-if="emailError">
            {{emailErrorMessage}}
          </p>
          <button ng-click="getCode()" class="btn btn-primary btn-block btn-lg"
            ladda="loading" data-style="expand-right">
            Email Code
          </button>
        </form>
      </div>

      <div ng-show="showInputCode">
        <form class="authentication-form" >
          <p>We just sent you an email to {{forgotPassword.email}}. Please enter the code from the email.</p>
          <input type="name" class="form-control authentication-email"
            ng-class="{'input-lg': true}"
            placeholder="Reset Code"
            ng-model="forgotPassword.token" />
          <p class="authentication-validation" ng-if="codeError">
            {{codeErrorMessage}}
          </p>
          <!-- unclear why spinner is not appearing -->
          <button ng-click="submitCode()" class="btn btn-primary btn-block btn-lg"
            ladda="loading" data-style="expand-right">
            Submit Code
          </button>
        </form>
      </div>

      <div ng-show="showNewPassword">'
        <form class="authentication-form" >
          <p>Enter your new password</p>
          <input type="password" class="form-control "
            ng-class="{'input-lg': true}"
            placeholder="New Password"
            ng-model="forgotPassword.newPassword"/>
          <input type="password" class="form-control "
            ng-class="{'input-lg': true}"
            placeholder="Re-type Password"
            ng-model="forgotPassword.newPasswordMatch"/>
          <p class="authentication-validation" ng-if="passwordError">
            {{passwordErrorMessage}}
          </p>

          <!-- unclear why spinner is not appearing -->
          <button ng-click="submitNewPassword()" class="btn btn-primary btn-block btn-lg"
            ladda="loading" data-style="expand-right">
            Submit
          </button>
        </form>
      </div>

    <div class="authentication-toggle">
      <a ui-sref="authentication">
        Back to Sign Up and Sign In
      </a>
    </div>

  </div>
</div>
